# AI 행동 규칙 (v3.0)

**버전:** v3.0
**일자:** 2026-02-02
**핵심:** Claude 절대 신뢰, GPT 재료 전용

---

## 1. Authority & Identity

- 사용자는 최종 결정권자 (Owner)
- **Claude Code = 절대 권위** (설계·판단·실행)
- **WebGPT = 재료 공장** (초안만, 검증 필수)

---

## 2. Claude 사용 원칙

### 2.1 모델 선택
```bash
# 기본 (무제한)
/model sonnet

# 복잡할 때만 (하루 30회)
/model opus
```

### 2.2 Opus 사용 시점
- 프로젝트 아키텍처 설계
- 복잡한 로직 (폼, 슬라이더)
- 해결 안 되는 에러
- 전체 통합 검수

### 2.3 Sonnet 사용 시점
- 페이지 생성
- CSS 스타일링
- 텍스트/콘텐츠 수정
- 문서 작업
- 단순 반복 작업

---

## 3. WebGPT 통제 규칙

### 3.1 절대 규칙
- **WebGPT 산출물 = 초안 (최종본 아님)**
- **Claude 검증 없이 사용 금지**
- **6000행 폭탄 재발 방지**

### 3.2 검증 프로토콜
```
WebGPT → 초안 생성
  ↓
사용자 → 선별 (필요한 것만)
  ↓
Claude → 정제/검증
  ↓
프로젝트 적용
```

### 3.3 파일 크기 체크
- 1000행 이하: OK
- 1000~3000행: 요약 후 투입
- 3000행 이상: 사용자가 먼저 정리

---

## 4. 토큰 절약 규칙

### 4.1 세션 관리
- **작업 1개 = 세션 1개**
- 파일 1개 생성 → 종료
- 컴포넌트 1개 수정 → 종료
- 누적 토큰 차단

### 4.2 파일 접근 최소화
- 전체 프로젝트 스캔 금지
- 필요한 파일만 지정
- "모든 파일 읽어봐" 금지

### 4.3 대화 길이 통제
- 긴 브레인스토밍 금지
- 결정 → 실행 → 종료
- 추가 작업은 새 세션

---

## 5. Output Contract (No Fluff)

### 5.1 출력 금지
- emoji 사용 금지
- 인사, 감탄사 금지
- 불필요한 설명 금지

### 5.2 허용 출력
- 실행 내용
- 에러 메시지
- 다음 단계 1문장

---

## 6. 파일 작업 규칙

### 6.1 생성 규칙
- 파일 1개씩
- 경로 명확히 지정
- 완료 확인 후 다음

### 6.2 수정 규칙
- 변경 범위 최소화
- 전체 재작성 금지
- 차이만 수정

---

## 7. 에러 처리

### 7.1 1차 시도 (Sonnet)
```
에러 발생 → Sonnet으로 해결 시도
```

### 7.2 2차 시도 (Opus)
```
Sonnet 실패 → Opus로 전환
```

### 7.3 3차 대응
```
Opus 실패 → 사용자에게 보고
```

---

## 8. 문서 관리

### 8.1 자동 업데이트
- SESSION.md (매 세션)
- PROGRESS.md (주요 완료 시)

### 8.2 수동 업데이트
- HANDOFF.md (세션 종료 시)
- 미결 사항 명시

---

## 9. 보안

- API Key, 토큰 절대 출력 금지
- 민감정보는 [REDACTED] 처리
- 실제 연락처 테스트 금지

---

## 10. 휴먼에러 방어

### 10.1 불가능한 작업 거부
```
사용자 실수로 잘못된 요청
→ 즉시 거부
→ 올바른 방법 안내
```

### 10.2 능력 범위 명확화
```
Claude Code:
- 가능: 로컬 파일 접근, 코드 생성
- 불가능: 이미지 생성, 외부 API 호출

WebGPT:
- 가능: 콘텐츠 초안, 이미지 생성
- 불가능: 로컬 파일 접근, 코드 실행
```

---

## 11. 세션 시작/종료 프로토콜

### 시작 시 (자동)
1. HANDOFF.md 읽기
2. 자기 역할 확인
3. 사용자에게 안내

### 종료 시 (자동)
1. 완료 항목 기록
2. 다음 작업 명시
3. HANDOFF.md 업데이트

---

## 12. Cursor 폭탄 재발 방지

### 12.1 원인
- 프로젝트 전체 반복 읽기
- 세션 누적으로 컨텍스트 비대화
- Pro 할당량 초과 → 자동 과금

### 12.2 방지책
- 파일 1개씩만 읽기
- 세션 즉시 종료
- Opus 한도 엄수
- WebGPT 대용량 파일 차단

---

## Meta Rule

**이 규칙 자체가 프로젝트 핵심 문서입니다.**
- 규칙 위반 = 프로젝트 리스크
- 의문 시 사용자 확인
- 임의 판단 금지
